<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rags to Robes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .fade-slide {
        transition: opacity 1s ease-in-out, transform 1s ease-in-out;
      }
    </style>
  </head>
  <body class="bg-green-50 text-gray-800 flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-green-200 p-4 shadow">
      <div class="container mx-auto flex flex-col lg:flex-row justify-between items-center">
        <h1>
          <a
            href="../index.html"
            class="inline-block text-4xl font-semibold text-green-900 px-6 py-3 border-2 border-green-700 rounded transition transform hover:-translate-y-1 hover:shadow-lg">
            Rags to Robes
          </a>
        </h1>
        <nav class="mt-2 md:mt-0">
          <ul class="flex gap-6 text-green-700 font-semibold">
            <li>
              <a href="pages/community_events.html" class="nav-link text-center px-3 py-2 text-lg border-2 border-green-700 rounded transition transform hover:-translate-y-1 hover:shadow-lg hover:text-green-900 inline-block">
                Community Calendar
              </a>
            </li>
            <li>
              <a href="pages/leadership_training.html" class="nav-link text-center px-3 py-2 text-lg border-2 border-green-700 rounded transition transform hover:-translate-y-1 hover:shadow-lg hover:text-green-900 inline-block">
                Training
              </a>
            </li>
            <li>
              <a href="pages/emergency_resources.html" class="nav-link text-center px-3 py-2 text-lg border-2 border-green-700 rounded transition transform hover:-translate-y-1 hover:shadow-lg hover:text-green-900 inline-block">
                Resources and Help
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Main -->
    <main class="flex-grow container mx-auto mt-10 px-4">
      <section class="mb-12">
        <div class="bg-white p-8 rounded-lg shadow-lg max-w-7xl mx-auto flex flex-col lg:flex-row gap-8 items-start">
          
          <!-- Left Column -->
          <div class="flex-1 flex flex-col space-y-8">
            <div class="space-y-4">
              <h3 class="text-2xl font-semibold text-left self-start">
                Together, Congregations Can Solve Poverty
              </h3>
              <p class="bg-green-800 border-l-4 border-green-900 text-white pt-4 pb-6 px-6 rounded-lg">
                Rags to Robes is a platform for faith-based leaders and congregation members
                to learn and share transformative solutions to consistent, generational poverty.
              </p>
              <p id="rotating-title" class="text-xl font-semibold mb-2 text-left"></p>
              <div class="text-md mb-4 bg-green-200 text-green-900 pt-4 pb-6 px-6 rounded-lg">
                <p id="rotating-paragraph-1" class="mb-4"></p>
                <p id="rotating-paragraph-2"></p>
              </div>
            </div>
            <!-- (Optional) Stories of Faith in Action -->
            
            <!-- <p class="text-xl font-semibold mb-2 text-left">Stories of Faith in Action</p>
            <div class="text-md mb-4 bg-green-800 border-green-900 text-white pt-4 pb-6 px-6 rounded-lg">
              <p id="success-story"></p>
            </div> -->
           
          </div>
          
          <!-- Right Column (Flowchart) -->
          <section id="flowchart" class="w-full lg:w-2/3">
            <h3 class="text-2xl font-semibold mb-4 text-center self-start">
              Poverty Disruption Flowchart
            </h3>
            <p class="mb-4 pl-6 text-green-800">
              This flowchart outlines the steps for leaders helping those with poverty.
              Click on each step to learn more.
            </p>
            <div class="relative w-full">
              <div id="training-flowchart" class="flex flex-col items-center space-y-2 min-w-[350px]">
                <div
                  class="step bg-white border-2 border-green-600 p-4 rounded-lg shadow cursor-pointer relative group w-full max-w-xs text-center"
                  data-info="Some indicators could include: food insecurity, clothing or housing needs, physical or mental health issues, addiction, or withdrawal from the community."
                  data-step="1"
                >
                  1. Identify Indicators
                </div>
                <div
                  class="step bg-white border-2 border-green-600 p-4 rounded-lg shadow cursor-pointer relative group w-full max-w-xs text-center"
                  data-info="Help provide or connect people to food, clothing, shelter, medical care, addiction help, community connection, and other immediate needs."
                  data-step="2"
                >
                  2. Address urgent needs
                </div>
                <div
                  class="step bg-white border-2 border-green-600 p-4 rounded-lg shadow cursor-pointer relative group w-full max-w-xs text-center"
                  data-info="Determine if they are 𝗽𝗼𝗼𝗿 (never been independent, lacks skills/resources) or 𝗻𝗲𝗲𝗱𝘆 (temporarily struggling despite past independence) to guide next steps."
                  data-step="3"
                >
                  3. Assess poverty status
                </div>
                <div class="flex w-full justify-center items-start gap-6 md:gap-24 mt-6">
                  <div class="w-1/2 text-center text-green-700 font-semibold mb-2">POOR</div>
                  <div class="w-1/2 text-center text-green-700 font-semibold mb-2">NEEDY</div>
                </div>
                <div class="flex w-full justify-center items-start gap-24 mt-6">
                  <div class="flex flex-col items-center space-y-4 w-1/2">
                    <div
                      class="step bg-white border-2 border-green-600 p-4 rounded-lg shadow cursor-pointer relative group w-full max-w-xs text-center"
                      data-info="Establish a relationship and/or connect them with a mentor."
                      data-step="4"
                    >
                      Connect with mentor
                    </div>
                    <div
                      class="step bg-white border-2 border-green-600 p-4 rounded-lg shadow cursor-pointer relative group w-full max-w-xs text-center"
                      data-info="Build motivation for long-term sustainable change by using spiritual resources to shape a clear vision and higher purpose."
                      data-step="5"
                    >
                      Shift mindsets
                    </div>
                    <div
                      class="step bg-white border-2 border-green-600 p-4 rounded-lg shadow cursor-pointer relative group w-full max-w-xs text-center"
                      data-info="Work toward removing impediments such as addiction, health, or legal challenges."
                      data-step="6"
                    >
                      Address challenges
                    </div>
                    <div
                      class="step bg-white border-2 border-green-600 p-4 rounded-lg shadow cursor-pointer relative group w-full max-w-xs text-center"
                      data-info="Build skills and assets, such as: increasing education, gaining certifications, developing job skills, practicing financial management, and consistent goal setting."
                      data-step="7"
                    >
                      Develop skills
                    </div>
                  </div>
                  <div class="flex flex-col items-center space-y-4 w-1/2">
                    <div
                      class="step bg-white border-2 border-green-600 p-4 rounded-lg shadow cursor-pointer relative group w-full max-w-xs text-center"
                      data-info="Provide support until they are back on their feet."
                      data-step="8"
                    >
                      Support recovery
                    </div>
                  </div>
                </div>
              </div>
              
              <div
                id="step-info"
                class="hidden absolute bottom-0 right-0 bg-green-200 rounded-lg shadow-xl p-4 text-green-800 z-30 w-1/2 mt-4 ml-auto"
              >
                <button id="close-step-info" class="absolute top-1 right-2 text-gray-500 hover:text-gray-700">✕</button>
                <p id="step-info-content" class="mb-2"></p>
                <div id="step-info-links" class="space-y-1 text-lg"></div>
              </div>
            </div>
          </section>
        </div>
      </section>

    </main>

    <!-- Footer -->
    <footer class="bg-green-200 mt-4 p-4 text-center text-green-800">
      <p>© 2025 Rags to Robes. All rights reserved.</p>
    </footer>

    <script>
      const stories = [
        "'Our synagogue and local shelter now run a shared meal service — it began with one conversation.'",
        "'Our mosque's zakat committee funded transitional housing for three families last year.'",
        "'We formed a coalition with three churches and a temple to launch a literacy initiative for youth.'",
        "'After our interfaith dialogue, we realized our struggles were the same — and began working together.'"
      ];
      let index = 0;
      const storyElement = document.getElementById("success-story");
      storyElement.textContent = stories[0];
      function rotateStory() {
        storyElement.style.opacity = 0;
        setTimeout(() => {
          storyElement.textContent = stories[index];
          storyElement.style.opacity = 1;
          index = (index + 1) % stories.length;
        }, 1000);
      }
      rotateStory();
      setInterval(rotateStory, 10000);
    </script>

    <script>
      const sectionData = [
      {
        title: "Mindset Matters: A New Way to Talk About Poverty",
        paragraph1: "Too often, the solution to poverty is framed as “more”—more resources, more money, more programs.",
        paragraph2: "Rags to Robes reframes the conversation. Real change begins with a shared mindset rooted in dignity and empowerment."
      },
      {
        title: "Events that Inspire Unity",
        paragraph1: "These interfaith events highlight what’s possible when communities gather with shared purpose and mutual respect.",
        paragraph2: "From local panels to national summits, there's a chance to learn, participate, and lead the movement for change."
      },
      {
        title: "Resource Sharing for Greater Impact",
        paragraph1: "No single congregation can do it all — but together, comunities can do so much more by pooling what they have.",
        paragraph2: "Access videos, curriculum, and more contributed by churches, nonprofits, and leaders from across the network."
      },
      // {
      //   title: "Building Bridges, Not Barriers",
      //   paragraph1: "Our platform connects faith communities with local leaders, nonprofits, and agencies to fight against poverty.",
      //   paragraph2: "Together, we can break down barriers and build pathways for everyone to receive the same opportunities."
      // },
      {
        title: "Training Leaders and Members for Action",
        paragraph1: "Equip your team with tools for trauma-informed care and approaches that preserve individual dignity.",
        paragraph2: "This training empowers leaders to foster trust and unity—serving as bridges, not barriers, within their communities."
      }
      ];

      let sectionIndex = 1;
      function rotateSection() {
        const title = document.getElementById("rotating-title");
        const para1 = document.getElementById("rotating-paragraph-1");
        const para2 = document.getElementById("rotating-paragraph-2");

        title.style.transition = para1.style.transition = para2.style.transition = "opacity 1s ease-in-out";
        title.style.opacity = para1.style.opacity = para2.style.opacity = 0;
        setTimeout(() => {
          const data = sectionData[sectionIndex];
          title.textContent = data.title;
          para1.textContent = data.paragraph1;
          para2.textContent = data.paragraph2;

          title.style.opacity = para1.style.opacity = para2.style.opacity = 1;
          sectionIndex = (sectionIndex + 1) % sectionData.length;
        }, 1000);
      }

      // Initially show first section
      const firstData = sectionData[0];
      document.getElementById("rotating-title").textContent = firstData.title;
      document.getElementById("rotating-paragraph-1").textContent = firstData.paragraph1;
      document.getElementById("rotating-paragraph-2").textContent = firstData.paragraph2;

      // Delay the first rotation by 5 seconds, then rotate every 10 seconds
      setTimeout(() => {
        rotateSection();
        setInterval(rotateSection, 10000);
      }, 5000);
    </script>

    <script>
      const chatToggle = document.getElementById("chat-toggle");
      const chatContainer = document.getElementById("chat-container");

      chatToggle.addEventListener("click", () => {
        chatContainer.classList.toggle("hidden");
      });
    </script>

    <script>
      const stepDetails = {
        1: [
          { text: 'Training', url: 'pages/leadership_training.html' },
          { text: 'Resources & Help', url: 'pages/emergency_resources.html' }
        ],
        2: [
          { text: 'Training', url: 'pages/leadership_training.html' },
          { text: 'Resources & Help', url: 'pages/emergency_resources.html' }
        ],
        3: [
          { text: 'Community Calendar', url: 'pages/community_events.html' }
        ],
        4: [
          { text: 'Community Calendar', url: 'pages/community_events.html' },
          { text: 'Training', url: 'pages/leadership_training.html' }
        ],
        5: [
          { text: 'Training', url: 'pages/leadership_training.html' }
        ],
        6: [
          { text: 'Training', url: 'pages/leadership_training.html' },
          { text: 'Resources & Help', url: 'pages/emergency_resources.html' }
        ],
        7: [
          { text: 'Training', url: 'pages/leadership_training.html' },
          { text: 'Resources & Help', url: 'pages/emergency_resources.html' }
        ],
        8: [
          { text: 'Resources & Help', url: 'pages/emergency_resources.html' },
          { text: 'Community Calendar', url: 'pages/community_events.html' }
        ]
      };

      document.querySelectorAll('#training-flowchart .step').forEach(step => {
        step.addEventListener('click', () => {
          const infoBox = document.getElementById('step-info');
          const content = document.getElementById('step-info-content');
          const links = document.getElementById('step-info-links');

          content.textContent = step.getAttribute('data-info');
          links.innerHTML = '';             // clear old links

          const items = stepDetails[step.dataset.step] || [];
          items.forEach((l, idx) => {
            // create each anchor
            const a = document.createElement('a');
            a.href      = l.url;
            a.textContent = l.text;
            a.target    = '_blank';
            // larger font and inline
            a.className = 'text-lg text-green-700 hover:underline';
            links.appendChild(a);

            // add separator except after last
            if (idx < items.length - 1) {
              links.appendChild(document.createTextNode(' | '));
            }
          });

          infoBox.classList.remove('hidden');
        });
      });

      document.getElementById('close-step-info').addEventListener('click', () => {
        document.getElementById('step-info').classList.add('hidden');
      });
    </script>

  </body>
</html>
