<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rags to Robes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .fade-slide {
        transition: opacity 1s ease-in-out, transform 1s ease-in-out;
      }
    </style>
  </head>
  <body class="bg-green-50 text-gray-800">
    <!-- Header -->
    <header class="bg-green-200 p-4 shadow">
      <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
        <h1 class="text-2xl font-bold text-green-900">Rags to Robes</h1>
        <nav class="mt-2 md:mt-0">
          <ul class="flex gap-4 text-green-800 font-semibold">
            <li><a href="pages/resources.html" class="hover:underline">Resources</a></li>
            <li><a href="pages/training.html" class="hover:underline">Training</a></li>
            <li><a href="pages/community.html" class="hover:underline">Community</a></li>
            <li><a href="pages/emergency.html" class="hover:underline">Emergency</a></li>
            <li><a href="pages/events.html" class="hover:underline">Events</a></li>
            <li><a href="pages/mindset.html" class="hover:underline">Mindset</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Main -->
    <main class="container mx-auto mt-10 px-4">
      <section class="text-center mb-12">
        <h2 class="text-3xl font-bold mb-4">Faith-Rooted Collaboration Against Generational Poverty</h2>
        <p class="text-lg mb-6 max-w-2xl mx-auto">
          Rags to Robes is a unifying platform for faith-based and values-driven communities to share transformative solutions to generational poverty. From churches to mosques, synagogues to temples, we believe that diverse spiritual wisdom can light the path toward lasting change.
        </p>
      </section>

      <!-- Mindset Shift Section -->
      <section class="bg-yellow-100 border-l-4 border-yellow-500 p-6 mb-12">
        <h3 class="text-xl font-semibold mb-2">Mindset Matters: A New Way to Talk About Poverty</h3>
        <p class="mb-2">
          Too often, the solution to poverty is framed as ‚Äúmore‚Äù‚Äîmore resources, more money, more programs. But what if the missing piece is language and alignment? When congregations and communities don‚Äôt speak the same language, efforts fall short‚Äîeven with abundant resources.
        </p>
        <p>
          Rags to Robes shifts the conversation. We believe the solution lies not only in material aid but in a shared mindset. When spiritual communities align their language, purpose, and belief in human dignity, they become unstoppable agents of change.
        </p>
      </section>

      <!-- CTA Section with Rotating Success Stories -->
      <section class="bg-white p-8 rounded-lg shadow-lg text-center">
        <h3 class="text-2xl font-semibold mb-4">Stories of Faith in Action</h3>
        <p id="success-story" class="italic fade-slide text-green-700 text-lg mb-6 h-24 flex items-center justify-center"></p>
        <a href="pages/resources.html" class="bg-green-700 hover:bg-green-800 text-white px-6 py-2 rounded shadow">
          Explore the Hub
        </a>
      </section>
    </main>

    <!-- Floating Chatbot Button & Window -->
    <button id="chat-toggle" class="fixed bottom-6 right-6 bg-green-700 hover:bg-green-800 text-white p-4 rounded-full shadow-lg">
      üí¨
    </button>

    <div id="chat-container" class="hidden fixed bottom-20 right-6 w-80 max-h-[500px] bg-white border border-gray-300 rounded-lg shadow-lg flex flex-col">
      <div class="bg-green-200 text-green-900 p-3 font-semibold text-center">Need Help?</div>
      <div id="chat" class="flex-1 overflow-y-auto p-3 text-sm text-left"></div>
      <div id="input-area" class="p-3 border-t border-gray-200"></div>
    </div>

    <!-- Footer -->
    <footer class="bg-green-200 mt-20 p-4 text-center text-green-800">
      <p>¬© 2025 Rags to Robes. All rights reserved.</p>
    </footer>

    <script>
      const stories = [
        "'Our synagogue and local shelter now run a shared meal service ‚Äî it began with one conversation.'",
        "'Our mosque's zakat committee funded transitional housing for three families last year.'",
        "'We formed a coalition with three churches and a temple to launch a literacy initiative for youth.'",
        "'After our interfaith dialogue, we realized our struggles were the same ‚Äî and began working together.'"
      ];
      let index = 0;
      const storyElement = document.getElementById("success-story");
      function rotateStory() {
        storyElement.style.opacity = 0;
        setTimeout(() => {
          storyElement.textContent = stories[index];
          storyElement.style.opacity = 1;
          index = (index + 1) % stories.length;
        }, 1000);
      }
      rotateStory();
      setInterval(rotateStory, 6000);

      // Chatbot Logic
      const chatToggle = document.getElementById("chat-toggle");
      const chatContainer = document.getElementById("chat-container");
      const chat = document.getElementById("chat");
      const inputArea = document.getElementById("input-area");

      const questions = [
        {
          text: "What challenge are you facing in your congregation?",
          options: [
            "We don‚Äôt know where to start",
            "People don‚Äôt believe poverty can be overcome",
            "Our resources aren‚Äôt working",
            "There‚Äôs a language gap between those in poverty and our leaders",
            "We need examples of success",
            "We feel alone in this effort"
          ]
        },
        {
          text: "What kind of support would be most helpful right now?",
          options: [
            "Stories of what works",
            "Step-by-step guides",
            "Workshops or templates",
            "A conversation with another congregation",
            "A mindset shift activity"
          ]
        }
      ];

      const recommendations = {
        "We don‚Äôt know where to start": "Check out the Congregational Startup Guide.",
        "People don‚Äôt believe poverty can be overcome": "Share stories of transformation from the Success Stories page.",
        "Our resources aren‚Äôt working": "Explore the Alignment & Mindset resources to unlock hidden barriers.",
        "There‚Äôs a language gap between those in poverty and our leaders": "Check out the Mindset Language Guide to align understanding.",
        "We need examples of success": "Visit the Program Hub and view real-world case studies.",
        "We feel alone in this effort": "Visit the Community Page to connect with others."
      };

      let step = 0;
      let responses = [];

      function showMessage(message, isUser = false) {
        const div = document.createElement("div");
        div.className = `chat-bubble ${isUser ? 'bg-green-100 ml-auto text-right' : 'bg-gray-100 text-left'}`;
        div.textContent = message;
        chat.appendChild(div);
        chat.scrollTop = chat.scrollHeight;
      }

      function showOptions(question) {
        showMessage(question.text);
        inputArea.innerHTML = "";
        question.options.forEach(option => {
          const btn = document.createElement("button");
          btn.className = "m-1 px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm text-left w-full text-start";
          btn.textContent = option;
          btn.onclick = () => {
            responses.push(option);
            showMessage(option, true);
            step++;
            setTimeout(nextQuestion, 500);
          };
          inputArea.appendChild(btn);
        });
      }

      function nextQuestion() {
        if (step < questions.length) {
          showOptions(questions[step]);
        } else {
          inputArea.innerHTML = "";
          showMessage("Thanks for sharing. Here's something that might help:");
          showMessage(recommendations[responses[0]] || "Visit our Resource Directory to get started.");
        }
      }

      chatToggle.addEventListener("click", () => {
        chatContainer.classList.toggle("hidden");
        if (!chatContainer.classList.contains("hidden")) {
          step = 0;
          responses = [];
          chat.innerHTML = "";
          inputArea.innerHTML = "";
          nextQuestion();
        }
      });
    </script>
  </body>
</html>
